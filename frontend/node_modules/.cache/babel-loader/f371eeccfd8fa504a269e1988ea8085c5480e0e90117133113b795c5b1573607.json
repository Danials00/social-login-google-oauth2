{"ast":null,"code":"import _slicedToArray from\"C:/Users/user/Desktop/Coders/google-oauth2-clone/social-login-google-oauth2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Navbar from\"./components/Navbar\";import\"./app.css\";import Home from\"./pages/Home\";import Post from\"./pages/Post\";import Login from\"./pages/Login\";import{BrowserRouter,Routes,Route,Navigate}from\"react-router-dom\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];useEffect(function(){var getUser=function getUser(){fetch(\"http://localhost:8000/auth/login/success\",{method:\"GET\",credentials:\"include\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",\"Access-Control-Allow-Credentials\":true}}).then(function(response){if(response.status===200)return response.json();throw new Error(\"authentication has been failed!\");}).then(function(resObject){setUser(resObject.user);}).catch(function(err){console.log(err);});};getUser();},[]);return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{user:user}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/\"}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/post/:id\",element:user?/*#__PURE__*/_jsx(Post,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})})]})]})});};export default App;","map":{"version":3,"names":["Navbar","Home","Post","Login","BrowserRouter","Routes","Route","Navigate","useEffect","useState","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","user","setUser","getUser","fetch","method","credentials","headers","Accept","then","response","status","json","Error","resObject","catch","err","console","log","children","path","element","to"],"sources":["C:/Users/user/Desktop/Coders/google-oauth2-clone/social-login-google-oauth2/frontend/src/App.jsx"],"sourcesContent":["import Navbar from \"./components/Navbar\";\r\nimport \"./app.css\";\r\nimport Home from \"./pages/Home\";\r\nimport Post from \"./pages/Post\";\r\nimport Login from \"./pages/Login\";\r\nimport { BrowserRouter, Routes, Route, Navigate } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst App = () => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const getUser = () => {\r\n      fetch(\"http://localhost:8000/auth/login/success\", {\r\n        method: \"GET\",\r\n        credentials: \"include\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          \"Access-Control-Allow-Credentials\": true,\r\n        },\r\n      })\r\n        .then((response) => {\r\n          if (response.status === 200) return response.json();\r\n          throw new Error(\"authentication has been failed!\");\r\n        })\r\n        .then((resObject) => {\r\n          setUser(resObject.user);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    };\r\n    getUser();\r\n  }, []);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <div>\r\n        <Navbar user={user} />\r\n        <Routes>\r\n          <Route path=\"/\" element={<Home />} />\r\n          <Route\r\n            path=\"/login\"\r\n            element={user ? <Navigate to=\"/\" /> : <Login />}\r\n          />\r\n          <Route\r\n            path=\"/post/:id\"\r\n            element={user ? <Post /> : <Navigate to=\"/login\" />}\r\n          />\r\n        </Routes>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"0KAAA,MAAO,CAAAA,MAAM,KAAM,qBAAqB,CACxC,MAAO,WAAW,CAClB,MAAO,CAAAC,IAAI,KAAM,cAAc,CAC/B,MAAO,CAAAC,IAAI,KAAM,cAAc,CAC/B,MAAO,CAAAC,KAAK,KAAM,eAAe,CACjC,OAASC,aAAa,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CACzE,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5C,GAAM,CAAAC,GAAG,CAAG,QAAN,CAAAA,GAAGA,CAAA,CAAS,CAChB,IAAAC,SAAA,CAAwBN,QAAQ,CAAC,IAAI,CAAC,CAAAO,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IAEpBR,SAAS,CAAC,UAAM,CACd,GAAM,CAAAY,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CACpBC,KAAK,CAAC,0CAA0C,CAAE,CAChDC,MAAM,CAAE,KAAK,CACbC,WAAW,CAAE,SAAS,CACtBC,OAAO,CAAE,CACPC,MAAM,CAAE,kBAAkB,CAC1B,cAAc,CAAE,kBAAkB,CAClC,kCAAkC,CAAE,IACtC,CACF,CAAC,CAAC,CACCC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAIA,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,MAAO,CAAAD,QAAQ,CAACE,IAAI,CAAC,CAAC,CACnD,KAAM,IAAI,CAAAC,KAAK,CAAC,iCAAiC,CAAC,CACpD,CAAC,CAAC,CACDJ,IAAI,CAAC,SAACK,SAAS,CAAK,CACnBZ,OAAO,CAACY,SAAS,CAACb,IAAI,CAAC,CACzB,CAAC,CAAC,CACDc,KAAK,CAAC,SAACC,GAAG,CAAK,CACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAClB,CAAC,CAAC,CACN,CAAC,CACDb,OAAO,CAAC,CAAC,CACX,CAAC,CAAE,EAAE,CAAC,CAEN,mBACET,IAAA,CAACP,aAAa,EAAAgC,QAAA,cACZvB,KAAA,QAAAuB,QAAA,eACEzB,IAAA,CAACX,MAAM,EAACkB,IAAI,CAAEA,IAAK,CAAE,CAAC,cACtBL,KAAA,CAACR,MAAM,EAAA+B,QAAA,eACLzB,IAAA,CAACL,KAAK,EAAC+B,IAAI,CAAC,GAAG,CAACC,OAAO,cAAE3B,IAAA,CAACV,IAAI,GAAE,CAAE,CAAE,CAAC,cACrCU,IAAA,CAACL,KAAK,EACJ+B,IAAI,CAAC,QAAQ,CACbC,OAAO,CAAEpB,IAAI,cAAGP,IAAA,CAACJ,QAAQ,EAACgC,EAAE,CAAC,GAAG,CAAE,CAAC,cAAG5B,IAAA,CAACR,KAAK,GAAE,CAAE,CACjD,CAAC,cACFQ,IAAA,CAACL,KAAK,EACJ+B,IAAI,CAAC,WAAW,CAChBC,OAAO,CAAEpB,IAAI,cAAGP,IAAA,CAACT,IAAI,GAAE,CAAC,cAAGS,IAAA,CAACJ,QAAQ,EAACgC,EAAE,CAAC,QAAQ,CAAE,CAAE,CACrD,CAAC,EACI,CAAC,EACN,CAAC,CACO,CAAC,CAEpB,CAAC,CAED,cAAe,CAAAzB,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}